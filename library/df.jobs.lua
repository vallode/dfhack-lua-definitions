---@meta

---@class job_material_category
---@field plant boolean
---@field wood boolean # wood log
---@field cloth boolean
---@field silk boolean
---@field leather boolean
---@field bone boolean
---@field shell boolean
---@field wood2 boolean # wood material
---@field soap boolean
---@field tooth boolean
---@field horn boolean
---@field pearl boolean
---@field yarn boolean
---@field strand boolean
df.job_material_category = {}

---@class dfhack_material_category
---@field plant boolean
---@field wood boolean
---@field cloth boolean
---@field silk boolean
---@field leather boolean
---@field bone boolean
---@field shell boolean
---@field wood2 boolean
---@field soap boolean
---@field tooth boolean
---@field horn boolean
---@field pearl boolean
---@field yarn boolean
---@field strand boolean
---@field metal boolean
---@field stone boolean
---@field sand boolean
---@field glass boolean
---@field clay boolean
---@field milk boolean
df.dfhack_material_category = {}

---@class job_flags
---@field repeat boolean
---@field suspend boolean
---@field working boolean # not for food, or store in sp
---@field fetching boolean # Actually going out to bring; corresponds to items->is_fetching
---@field special boolean # Sleep/Drink/Eat/Clean; cannot be aborted via the ui
---@field bringing boolean
---@field item_lost boolean # set when a Hauled item is removed; causes cancel
---@field noise boolean # on the sleep job causes thoughts
---@field by_manager boolean
---@field store_item boolean
---@field quality boolean # set by improvement code
---@field specific_dropoff boolean # for some jobs, blocks auto-restockpiling of the hauled item
---@field unk_12 boolean
---@field on_break boolean # job displayed as On Break
---@field unk_14 boolean
---@field do_now boolean
df.job_flags = {}

---@enum job_subtype_surgery
df.job_subtype_surgery = {
  Surgery = 0,
  StopBleeding = 1,
  RepairCompoundFracture = 2,
  RemoveRottenTissue = 3,
}

---@class job
---@field id integer
---@field list_link job_list_link
---@field posting_index integer # index into world.job_postings
---@field job_type job_type
---@field job_subtype integer
---@field pos coord
---@field completion_timer integer # -1 every time unit.counters.job_counter is below 0
---@field unk4 integer # garbage, but serialized
---@field flags job_flags
---@field mat_type integer
---@field mat_index integer
---@field unk5 integer
---@field item_type item_type # for Bait Trap jobs
---@field item_subtype integer # when StoreInStockpile this is a unit_labor
---@field item_category stockpile_group_set
---@field material_category job_material_category
---@field reaction_name string
---@field expire_timer integer # for stockpiling, +1 per 50 ticks if no worker; del when 20
---@field recheck_cntdn integer # for process_jobs
---@field wait_timer integer # for units to leave build sites; to recheck stockpiles
---@field unk11 integer
---@field items job_item_ref[]
---@field specific_refs specific_ref[]
---@field general_refs general_ref[]
---@field job_items job_item[]
---@field guide_path coord_path
---@field cur_path_index integer
---@field unk_v4020_2 coord
---@field art_spec job_art_specification
---@field order_id integer

---@class job_item_ref
---@field item item
---@field role any
---@field is_fetching integer # 0 immediately once taken to be brought
---@field job_item_idx integer

---@class job_item_flags1
---@field improvable boolean # vtable[155]:eax,-1,-1
---@field butcherable boolean # (call 0074c6d0)
---@field millable boolean # vtable[79]
---@field allow_buryable boolean # ALLOW items with flag "dead_dwarf"
---@field unrotten boolean # check for item flag "rotten"
---@field undisturbed boolean # check for item flag "spider_web"
---@field collected boolean # check for item flag "spider_web"
---@field sharpenable boolean # vtable[25]
---@field murdered boolean # check for item flag
---@field distillable boolean # vtable[105],1
---@field empty boolean # (call 00753a40)
---@field processable boolean # vtable[80]
---@field bag boolean # vtable[131]
---@field cookable boolean # (call 00753fe0)
---@field extract_bearing_plant boolean # vtable[164]
---@field extract_bearing_fish boolean # vtable[181]
---@field extract_bearing_vermin boolean # vtable[182]
---@field processable_to_vial boolean # vtable[81]
---@field processable_to_bag boolean # vtable[82]
---@field processable_to_barrel boolean # vtable[83]
---@field solid boolean # vtable[74]
---@field tameable_vermin boolean # vtable[104]
---@field nearby boolean
---@field sand_bearing boolean # vtable[108]
---@field glass boolean # check for material flag IS_GLASS
---@field milk boolean # (call 00753d30 - check if material has CHEESE_MAT?)
---@field milkable boolean # vtable[107],1,1
---@field finished_goods boolean
---@field ammo boolean
---@field furniture boolean
---@field not_bin boolean
---@field lye_bearing boolean
df.job_item_flags1 = {}

---@class job_item_flags2
---@field dye boolean # vtable[106]
---@field dyeable boolean # vtable[159]
---@field dyed boolean # vtable[161]
---@field sewn_imageless boolean # vtable[162]
---@field glass_making boolean # vtable[26]
---@field screw boolean # vtable[46]
---@field building_material boolean # vtable[47]
---@field fire_safe boolean # vtable[48],1
---@field magma_safe boolean # vtable[48],2
---@field deep_material boolean # check for inorganic material flag DEEP
---@field melt_designated boolean # check for item flag "melt"
---@field non_economic boolean # (call 0076be60)
---@field allow_melt_dump boolean # item can be designated for melting or dumping
---@field allow_artifact boolean # item can be artifact
---@field plant boolean # check if material is a PLANT_MAT
---@field silk boolean # check for material flag SILK
---@field leather boolean # check for material flag LEATHER
---@field bone boolean # check for material flag BONE
---@field shell boolean # check for material flag SHELL
---@field totemable boolean # vtable[158]
---@field horn boolean # check for material flag HORN
---@field pearl boolean # check for material flag PEARL
---@field plaster_containing boolean # vtable[17]
---@field unk_23 boolean
---@field soap boolean # check for material flag SOAP
---@field body_part boolean # itemtype CORPSE or CORPSEPIECE
---@field ivory_tooth boolean # check for material flag TOOTH
---@field lye_milk_free boolean # (call 00759110)
---@field blunt boolean # vtable[157]
---@field unengraved boolean # vtable[214]
---@field hair_wool boolean # ??? (pretty sure this is [ANY_STRAND_TISSUE])
---@field yarn boolean # check for material flag YARN
df.job_item_flags2 = {}

---@class job_item_flags3
---@field unimproved boolean # vtable[176]
---@field any_raw_material boolean # itemtype BAR, BOULDER, POWDER_MISC, or GLOB
---@field non_absorbent boolean # vtable[215]
---@field non_pressed boolean # vtable[91]
---@field allow_liquid_powder boolean
---@field any_craft boolean # FIGURINE, AMULET, SCEPTER, CROWN, RING, EARRING, BRACLET
---@field hard boolean # check for material flag ITEMS_HARD
---@field food_storage boolean # vtable[15]
---@field metal boolean
---@field sand boolean
---@field unk_10 boolean
---@field written_on boolean
---@field edged boolean
df.job_item_flags3 = {}

---@class job_item
---@field item_type item_type
---@field item_subtype integer
---@field mat_type integer
---@field mat_index integer
---@field flags1 job_item_flags1
---@field quantity integer
---@field vector_id job_item_vector_id
---@field flags2 job_item_flags2
---@field flags3 job_item_flags3
---@field flags4 integer
---@field flags5 integer
---@field metal_ore integer
---@field reaction_class string
---@field has_material_reaction_product string
---@field min_dimension integer # pure guess by context
---@field reagent_index integer
---@field contains integer[] # used with custom reactions
---@field reaction_id integer
---@field has_tool_use tool_uses
---@field unk_v43_1 integer
---@field unk_v43_2 integer
---@field unk_v43_3 integer
---@field unk_v43_4 integer

---@class job_item_filter
---@field item_type item_type
---@field item_subtype integer
---@field mat_type integer
---@field mat_index integer
---@field flags1 job_item_flags1
---@field item_vector any
---@field use_mat_index boolean
---@field flags2 job_item_flags2
---@field use_flags2 boolean
---@field flags3 job_item_flags3
---@field use_flags3 boolean
---@field flags4 integer
---@field use_flags4 boolean
---@field flags5 integer
---@field use_flags5 boolean
---@field reaction_class string
---@field has_material_reaction_product string
---@field metal_ore integer
---@field use_metal_ore boolean
---@field use_reaction_class boolean
---@field use_reaction_product boolean
---@field min_dimension integer
---@field reaction_id integer
---@field contains integer[]
---@field use_contains boolean
---@field has_tool_use tool_uses
---@field has_melee_skill job_skill
---@field unk_v40_1 integer # noticed in v0.40.24
---@field pos coord
---@field unit unit
---@field job job
---@field building building
---@field unk_74 any
---@field unk_v4305_1 integer
---@field burrows integer[]
---@field use_burrows boolean
---@field take_from any

---@class manager_order_status
---@field validated boolean
---@field active boolean
df.manager_order_status = {}

---@class job_art_specification
---@field type any
---@field id integer
---@field subid integer

---@class manager_order
---@field id integer
---@field job_type job_type
---@field item_type item_type
---@field item_subtype integer
---@field reaction_name string
---@field mat_type integer
---@field mat_index integer
---@field item_category stockpile_group_set
---@field hist_figure_id integer
---@field material_category job_material_category
---@field art_spec job_art_specification
---@field amount_left integer
---@field amount_total integer
---@field status manager_order_status
---@field frequency any
---@field finished_year integer
---@field finished_year_tick integer
---@field workshop_id integer
---@field max_workshops integer # 0 is unlimited
---@field item_conditions manager_order_condition_item[]
---@field order_conditions manager_order_condition_order[]
---@field items any

---@class manager_order_condition_item
---@field compare_type any
---@field compare_val integer
---@field item_type item_type
---@field item_subtype integer
---@field mat_type integer
---@field mat_index integer
---@field flags1 job_item_flags1
---@field flags2 job_item_flags2
---@field flags3 job_item_flags3
---@field flags4 integer
---@field flags5 integer
---@field reaction_class string
---@field has_material_reaction_product string
---@field inorganic_bearing integer
---@field min_dimension integer
---@field contains integer[]
---@field reaction_id integer
---@field has_tool_use tool_uses

---@class manager_order_condition_order
---@field order_id integer
---@field condition any
---@field unk_1 integer

---@class manager_order_template
---@field job_type job_type
---@field reaction_name string
---@field item_type item_type
---@field item_subtype integer
---@field mat_type integer
---@field mat_index integer
---@field item_category stockpile_group_set # specflag
---@field hist_figure_id integer
---@field material_category job_material_category
---@field match_value integer
---@field name string
---@field compare_str string
---@field on boolean

---@class mandate
---@field unit unit
---@field mode any
---@field item_type item_type
---@field item_subtype integer
---@field mat_type integer
---@field mat_index integer
---@field amount_total integer
---@field amount_remaining integer
---@field timeout_counter integer # counts once per 10 frames
---@field timeout_limit integer # once counter passes limit, mandate ends
---@field punishment mandate_punishment
---@field punish_multiple integer
---@field unk4 integer

---@class mandate_punishment
---@field hammerstrikes integer
---@field prison_time integer
---@field give_beating integer

---@class training_assignment
---@field animal_id integer
---@field trainer_id integer
---@field flags any

---@class unit_demand
---@field unk_0 integer
---@field place any
---@field item_type item_type
---@field item_subtype integer
---@field mat_type integer
---@field mat_index integer
---@field timeout_counter integer # counts once per 10 frames
---@field timeout_limit integer # once counter passes limit, mandate ends

